<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.92.1" />
<link rel="canonical" type="text/html" href="/mlcommons/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="/mlcommons/docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/mlcommons/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/mlcommons/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/mlcommons/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/mlcommons/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/mlcommons/favicons/android-192x192.png" sizes="192x192">

<title>Documentation | ML Science Benchmarks</title>
<meta name="description" content="


Here we present a number of documents that we will evolve and submit
to MLCommons once they have been improved.
Participans can obtain direct write …">
<meta property="og:title" content="Documentation" />
<meta property="og:description" content="A site to develop material for MLCommons" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/mlcommons/docs/" /><meta property="og:site_name" content="ML Science Benchmarks" />

<meta itemprop="name" content="Documentation">
<meta itemprop="description" content="A site to develop material for MLCommons"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content="A site to develop material for MLCommons"/>




<link rel="preload" href="/mlcommons/scss/main.min.704093cd1a56f37fd00dc35c7125fced09d88d60c92d59965b30c8c0eeef1cd5.css" as="style">
<link href="/mlcommons/scss/main.min.704093cd1a56f37fd00dc35c7125fced09d88d60c92d59965b30c8c0eeef1cd5.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/mlcommons/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">ML Science Benchmarks</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/mlcommons/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/mlcommons/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/mlcommons/community/" ><span>Community</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/mlcommons/docs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-6557438925ac398717df86f494c6abb8">Overview and Objective</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-48335ad18b83f7d01cd1fcf759b51e66">Benchmarks</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-ef71e53d7651d3875d7993b2ff2feb25">CANDLE-UNO</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-71aa93e1a89342c801a8af3f9d75102d">CloudMask (Segmentation)</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-40e4a1441304df6229848648637eacdf">TEvolOp Earthquake Forecasting</a></li>


    
  
    
    
	
<li>2.4: <a href="#pg-b956b4260b2566bd71c7ea8c9c5c62e1">STEMDL (Classification)</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-bba020568b33b1280c0698614e3daae0">Science Benchmark Policy Draft (Training)</a></li>


    
  
    
    
	
<li>4: <a href="#pg-8db116e0eb10a5a7cb13b1fa5275d09d">Respondents</a></li>


    
  
    
    
	
<li>5: <a href="#pg-68ec2370d0409cc27325be36693f9368">Tutorials</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-aa80a40bdc6508d5c896268d8aa91cba">Running GPU Batch jobs on Rivanna</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>Here we present a number of documents that we will evolve and submit
to MLCommons once they have been improved.</p>
<p>Participans can obtain direct write access to this Web Site, so that
overhead of creating initial drafts is minimized.</p>
<p><strong>Our present focus will be the development of the policy document.</strong></p>

</div>


</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-6557438925ac398717df86f494c6abb8">1 - Overview and Objective</h1>
    <div class="lead">We summarize the Overview and objective of the Working Group</div>
	

<div class="pageinfo pageinfo-primary">
<p>Encourage and support the curation of large-scale experimental and
scientific datasets and the engineering of ML benchmarks operating on
those datasets.</p>

</div>

<p>The WG will engage with scientists, academics,
national laboratories, such as synchrotrons, in securing, engineering,
curating, and publishing datasets and machine learning benchmarks that
operate on experimental scientific datasets. This will entail working
across different domains of sciences, including material, life,
environmental, and earth sciences, particle physics, and astronomy, to
mention a few. We will include traditional observational and
computer-generated data.</p>
<p>Although scientific data is widespread, curating, maintaining, and
distributing large-scale, useful datasets for public consumption is a
challenging process, covering various aspects of data (from FAIR
principles to distribution to versioning). With large data products,
various ML techniques have to be evaluated against different
architectures and different datasets. Without these benchmarking
efforts, the community has no clear pathway for utilizing these
advanced models. We expect that the collection will have significant
tutorial value as examples from one field, and one observational or
computational experiment can be modified to advance other fields and
experiments.</p>
<p>The working group’s goal is to assemble and distribute scientific data
sets relevant to a scientific campaign in a systematic manner, and
pose quantifiable targets (“science benchmark”). A benchmark involves</p>
<ul>
<li>(i) a data set,</li>
<li>(ii) objective criteria to meet, and</li>
<li>(iii) an example implementation.</li>
</ul>
<p>The objective criteria depends on the scientific
problem at hand. The metric should be well defined on the data but
could come from a diverse set of measures (one or more of: accuracy
targets, top-1 or 5% error, time to convergence, cross-validation
rates, confusion matrices, type-1/type-2 error rates, inference times,
surrogate accuracy, control stability measure, etc.).</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-48335ad18b83f7d01cd1fcf759b51e66">2 - Benchmarks</h1>
    <div class="lead">A list of benchmarks we currently work on</div>
	

<div class="pageinfo pageinfo-primary">
<p>Currently we are working on a number of sientific applications.</p>

</div>

<p>Benchmark             Science      Task             Owner Institute          Specific Benchmark Targets</p>
<hr>
<p>CloudMask             Climate      Segmentation     RAL                      <a href="#cloudmask-specific-benchmark-targets">link cloudmask specifics</a>
STEMDL                Material     Classification   ORNL                     <a href="#stemdl-specific-benchmark-targets">link stemdl specifics</a>
CANDLE-UNO            Medicine     Classification   ANL                      <a href="#candle-uno-specific-benchmark-targets">link candle-uno specifics</a>
TEvolOp Forecasting   Earthquake   Regression       University of Virginia   <a href="#tevolop-specific-benchmark-targets">link tevolop specifics</a></p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-ef71e53d7651d3875d7993b2ff2feb25">2.1 - CANDLE-UNO</h1>
    <div class="lead">CANDLE (Exascale Deep Learning and Simulation Enabled Precision Medicine for Cancer) project aims to implement deep learning architectures that are relevant to problems in cancer.</div>
	

<div class="pageinfo pageinfo-primary">
<p>CANDLE (Exascale Deep Learning and Simulation Enabled Precision Medicine
for Cancer) project aims to implement deep learning architectures that
are relevant to problems in cancer.</p>

</div>

<h3 id="candle-uno">CANDLE-UNO</h3>
<p>CANDLE (Exascale Deep Learning and Simulation Enabled Precision Medicine
for Cancer) project aims to implement deep learning architectures that
are relevant to problems in cancer. These architectures address problems
at three biological scales: cellular (Pilot1 P1), molecular (Pilot P2)
and population (Pilot3).</p>
<p>Pilot1 (P1) benchmarks are formed out of problems and data at the
cellular level. The high level goal of the problem behind the P1
benchmarks is to predict drug response based on molecular features of
tumor cells and drug descriptors. Pilot2 (P2) benchmarks are formed out
of problems and data at the molecular level. The high level goal of the
problem behind the P2 benchmarks is molecular dynamic simulations of
proteins involved in cancer, specifically the RAS protein. Pilot3 (P3)
benchmarks are formed out of problems and data at the population level.
The high level goal of the problem behind the P3 benchmarks is to
predict cancer recurrence in patients based on patient related data.</p>
<p>Uno application from Pilot1 (P1): The goal of Uno is to predict tumor
response to single and paired drugs, based on molecular features of
tumor cells across multiple data sources. Combined dose response data
contains sources: [&lsquo;CCLE&rsquo; &lsquo;CTRP&rsquo; &lsquo;gCSI&rsquo; &lsquo;GDSC&rsquo; &lsquo;NCI60&rsquo; &lsquo;SCL&rsquo; &lsquo;SCLC&rsquo;
&lsquo;ALMANAC.FG&rsquo; &lsquo;ALMANAC.FF&rsquo; &lsquo;ALMANAC.1A&rsquo;]. Uno implements a deep learning
architecture with 21M parameters in TensorFlow framework in Python. The
code is publicly available on
<a href="https://github.com/ECP-CANDLE/Benchmarks/tree/develop/Pilot1/Uno">GitHub</a>.
The script in this repository downloads all required datasets. The
primary metric to evaluate this applications is throughput (samples per
second). More details on running Uno can be found
<a href="https://github.com/ECP-CANDLE/Benchmarks/blob/develop/Pilot1/Uno/README.AUC.md">here</a>.</p>
<h4 id="candle-uno-specific-benchmark-targets">CANDLE-UNO Specific Benchmark Targets</h4>
<ol>
<li>Scientific objective(s):
<ul>
<li>Objective: Predictions of tumor response to drug treatments,
based on molecular features of tumor cells and drug descriptors</li>
<li>Formula: Validation loss</li>
<li>Score: 0.0054</li>
</ul>
</li>
<li>Data
<ul>
<li>Download:
<a href="http://ftp.mcs.anl.gov/pub/candle/public/benchmarks/Pilot1/uno/">http://ftp.mcs.anl.gov/pub/candle/public/benchmarks/Pilot1/uno/</a></li>
<li>Data Size: 6.4G</li>
<li>Training samples: 423952</li>
<li>Validation samples: 52994</li>
</ul>
</li>
<li>Example implementation
<ul>
<li>Model: Multi-task Learning-based custom model</li>
<li>Reference Code:
<a href="https://github.com/ECP-CANDLE/Benchmarks/tree/develop/Pilot1/Uno">https://github.com/ECP-CANDLE/Benchmarks/tree/develop/Pilot1/Uno</a></li>
<li>Run Instructions:
<a href="https://github.com/ECP-CANDLE/Benchmarks/blob/develop/Pilot1/Uno/README.AUC.md">https://github.com/ECP-CANDLE/Benchmarks/blob/develop/Pilot1/Uno/README.AUC.md</a></li>
<li>Time-to-solution: 10667 samples/sec (batch size 64) on single
A100</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-71aa93e1a89342c801a8af3f9d75102d">2.2 - CloudMask (Segmentation)</h1>
    <div class="lead">Estimation of sea surface temperature (SST) from space-borne sensors.</div>
	

<div class="pageinfo pageinfo-primary">
<p>Estimation of sea surface temperature (SST) from space-borne sensors.</p>

</div>

<h3 id="cloudmask-segmentation">CloudMask (Segmentation)</h3>
<p>Estimation of sea surface temperature (SST) from space-borne sensors,
such as satellites, is crucial for a number of applications in
environmental sciences. One of the aspects that underpins the derivation
of SST is cloud screening, which is a step that marks each and every
pixel of thousands of satellite imageries as containing cloud or clear
sky, historically performed using either thresholding or Bayesian
methods.</p>
<p>This benchmark focuses on using a machine learning-based model for
masking clouds, in the Sentinel-3 satellite, which carries the Sea and
Land Surface Temperature Radiometer (SLSTR) instrument. More
specifically, the benchmark operates on multispectral image data. The
example implementation is a variation of the U-Net deep neural network.
The benchmark includes two datasets of DS1-Cloud and DS2-Cloud, with
sizes of 180GB and 4.9TB, respectively. Each dataset is made up of two
parts: reflectance and brightness temperature. The reflectance is
captured across six channels with the resolution of 2400 x 3000 pixels,
and the brightness temperature is captured across three channels with
the resolution of 1200 x 1500 pixels.</p>
<h4 id="cloudmask-specific-benchmark-targets">CloudMask Specific Benchmark Targets</h4>
<ol>
<li>Scientific objective(s):
<ul>
<li>Objective: Compare the accuracy produced by the Neural Network
with the accuracy of a Bayesian method</li>
<li>Formula: Weighted Binary Cross Entropy of validation dat</li>
<li>Score: 0.9 for convergence</li>
</ul>
</li>
<li>Data
<ul>
<li>Download: aws s3 --no-sign-request --endpoint-url
<a href="https://s3.echo.stfc.ac.uk">https://s3.echo.stfc.ac.uk</a> sync s3://sciml-datasets/en/
cloud_slstr_ds1 .</li>
<li>Data Size: 180GB</li>
<li>Training samples: 15488</li>
<li>Validation samples: 3840</li>
</ul>
</li>
<li>Example implementation
<ul>
<li>Model: U-Net</li>
<li>Reference Code:
<a href="https://github.com/stfc-sciml/sciml-bench/tree/master/sciml_bench/benchmarks/slstr_cloud">https://github.com/stfc-sciml/sciml-bench/tree/master/sciml_bench/benchmarks/slstr_cloud</a></li>
<li>Run Instructions:
<a href="https://github.com/stfc-sciml/sciml-bench/blob/master/README.md">https://github.com/stfc-sciml/sciml-bench/blob/master/README.md</a></li>
<li>Time-to-solution: 180GB dataset runs 59 min on DGX-2 with 32
V100 GPU</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-40e4a1441304df6229848648637eacdf">2.3 - TEvolOp Earthquake Forecasting</h1>
    <div class="lead">Forcasting Earthquakes</div>
	

<div class="pageinfo pageinfo-primary">
<p>Forcatsing Earthquakes</p>

</div>

<h3 id="tevolop-earthquake-forecasting">TEvolOp Earthquake Forecasting</h3>
<p>Time series are seen in many scientific problems and many of them are
geospatial &ndash; functions of space and time and this benchmark illustrates
this type. Some time series have a clear spatial structure that for
example strongly relates nearby space points. The problem chosen is
termed a spatial bag where there is spatial variation but it is not
clearly linked to the geometric distance between spatial regions. In
contrast, traffic-related time series have a strong spatial structure.
We intend benchmarks that cover a broad range of problem types.</p>
<p>The earthquake data comes from USGS and we have chosen a 4 degrees of
Latitude (32 to 36 N) and 6 degrees of Longitude (-120 to -114) region
covering Southern California. The data runs from 1950 to the present day
and is presented as events: magnitude, ground location, depth, and time.
We have divided the data into time and space bins. The time interval is
daily but in our reference models, we accumulate this into fortnightly
data. Southern California is divided into a 40 by 60 grid of 0.1 by
0.1-degree &ldquo;pixels&rdquo; which corresponds roughly to squares with an 11 km
side, The dataset also includes an assignment of pixels to known faults
and a list of the largest earthquakes in that region from 1950 until
today. We have chosen various samplings of the dataset to provide both
input and predicted values. These include time ranges from a fortnight
up to 4 years. Further, we calculate summed magnitudes and depths and
counts of significant quakes (magnitude &gt; 3.29). Other easily available
quantities are powers of quake energy (using Energy ~ 101.5m where m is
magnitude). Quantities are &ldquo;Energy averaged&rdquo; when there are multiple
events in a single space-time bin except for simple event counts.</p>
<p>Current reference models are a basic LSTM recurrent neural network and a
modification of the original science transformer. Details can be found
<a href="https://docs.google.com/presentation/d/1ykYnX0uvxPE-M-c-Tau8irU3IqYuvj8Ws8iUqd5RCxQ/edit?usp=sharing">here</a>,
and
<a href="https://www.researchgate.net/publication/346012611_DRAFT_Deep_Learning_for_Spatial_Time_Series">here</a>.</p>
<h4 id="tevolop-specific-benchmark-targets">TEvolOp Specific Benchmark Targets</h4>
<ol>
<li>Scientific objective(s):
<ul>
<li>Objective: Improve the quality of Earthquake forecasting</li>
<li>Formula: Normalized Nash&ndash;Sutcliffe model efficiency coefficient
(NNSE)</li>
<li>Score: The NNSE lies between 0.8 and 0.99 depending on model and
predicted time series</li>
</ul>
</li>
<li>Data
<ul>
<li>Download:
<a href="https://drive.google.com/drive/folders/1wz7K2R4gc78fXLNZMHcaSVfQvIpIhNPi?usp=sharing">https://drive.google.com/drive/folders/1wz7K2R4gc78fXLNZMHcaSVfQvIpIhNPi?usp=sharing</a></li>
<li>Data Size: 5GB from USGS</li>
<li>Training samples: Data is decided spatially in an 80%-20%
fashion between training and validation. The full dataset covers
6 degrees of longitude (-114 to -120) and 4 degrees of latitude
(32 to 56) In Southern California. This is divided into 2400
spatial bins 0.1 degree (~11km) on a side</li>
<li>Validation samples: Most analyses use 500 most active bins of
which 400 are training and 100 validation.</li>
</ul>
</li>
<li>Example implementation
<ul>
<li>Model: 3 state of the art geospatial deep learning
implementations are provided</li>
<li>Reference Code:
<a href="https://colab.research.google.com/drive/1JrPcRwX06xIN5iLhc53_MOLzU9q_Q7wD?usp=sharing">https://colab.research.google.com/drive/1JrPcRwX06xIN5iLhc53_MOLzU9q_Q7wD?usp=sharing</a>
(Second model below)</li>
<li>Run Instructions: This is set up currently as a Jupyter notebook
to run on Colab/GitHub. A container DGX version is also
available</li>
<li>Time-to-solution: 1 to 2 days on a single GPU</li>
</ul>
</li>
</ol>
<h2 id="example-implementation">Example Implementation:</h2>
<p>The example implementation is primarily to demonstrate feasibility, show
how the data is represented, help address any interpretation
considerations, and potentially trigger initial ideas on how the
benchmark can be improved.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b956b4260b2566bd71c7ea8c9c5c62e1">2.4 - STEMDL (Classification)</h1>
    <div class="lead">State of the art scanning transmission electron microscopes (STEM) produce focused electron beams with atomic dimensions and allow to capture diffraction patterns arising from the interaction of incident electrons with nanoscale material volumes.</div>
	

<div class="pageinfo pageinfo-primary">
<p>State of the art scanning transmission electron microscopes (STEM)
produce focused electron beams with atomic dimensions and allow to
capture diffraction patterns arising from the interaction of incident
electrons with nanoscale material volumes.</p>

</div>

<h3 id="stemdl-classification">STEMDL (Classification)</h3>
<p>State of the art scanning transmission electron microscopes (STEM)
produce focused electron beams with atomic dimensions and allow to
capture diffraction patterns arising from the interaction of incident
electrons with nanoscale material volumes. Backing out the local atomic
structure of said materials requires compute- and time-intensive
analyses of these diffraction patterns (known as convergent beam
electron diffraction, CBED). Traditional analyses of CBED requires
iterative numerical solutions of partial differential equations and
comparison with experimental data to refine the starting material
configuration. This process is repeated anew for every newly acquired
experimental CBED pattern and/or probed material.</p>
<p>In this <a href="https://github.com/at-aaims/stemdl-benchmark">benchmark</a>, we
used newly developed multi-GPU and multi-node electron scattering
simulation codes <a href="https://www.osti.gov/biblio/1631694-namsa">[1]</a> on
the Summit supercomputer to generate CBED patterns from over 60,000
materials (solid-state materials), representing nearly every known
crystal structure. A scaled-down version of this data
<a href="https://doi.ccs.ornl.gov/ui/doi/70">[2]</a> is used for one of the data
challenges <a href="https://smc-datachallenge.ornl.gov/challenge-2-2020/">[3]</a>
at SMC 2020 conference, and the overarching goals are to: (1) explore
the suitability of machine learning algorithms in the advanced analysis
of CBED and (2) produce a machine learning algorithm capable of
overcoming intrinsic difficulties posed by scientific datasets.</p>
<p>A <a href="https://doi.ccs.ornl.gov/ui/doi/70">data</a> sample from this data set
is given by a 3-d array formed by stacking various CBED patterns
simulated from the same material at different distinct material
projections (i.e. crystallographic orientations). Each CBED pattern is a
2-d array with float 32-bit image intensities. Associated with each data
sample in the data set is a host of material attributes or properties
which are, in principle, retrievable via analysis of this CBED stack. Of
note are (1) 200 crystal space groups out of 230 unique mathematical
discrete space groups and (2) local electron density which governs
material&rsquo;s property.</p>
<p>This benchmark consists of 2 tasks: classification for crystal space
groups and reconstruction for local electron density, the example
implementation of which are provided in
<a href="https://link.springer.com/chapter/10.1007%2F978-3-030-63393-6_30">[4]</a>
and <a href="https://arxiv.org/abs/1909.11150">[5]</a>.</p>
<h4 id="stemdl-specific-benchmark-targets">STEMDL Specific Benchmark Targets</h4>
<ol>
<li>Scientific objective(s):
<ul>
<li>Objective: Classification for crystal space groups</li>
<li>Formula: F1 score on validation data</li>
<li>Score: 0.9 considered converged</li>
</ul>
</li>
<li>Data
<ul>
<li>Download: <a href="https://doi.ccs.ornl.gov/ui/doi/70">https://doi.ccs.ornl.gov/ui/doi/70</a></li>
<li>Data Size: 548.7 GiB</li>
<li>Training samples: 138.7K</li>
<li>Validation samples: 48.4</li>
</ul>
</li>
<li>Example implementation
<ul>
<li>Model: ResNet-50</li>
<li>Reference Code: <a href="https://github.com/at-aaims/stemdl-benchmark">https://github.com/at-aaims/stemdl-benchmark</a></li>
<li>Run Instructions:
<a href="https://github.com/at-aaims/stemdl-benchmark#quickstart">https://github.com/at-aaims/stemdl-benchmark#quickstart</a></li>
<li>Time-to-solution: 40min on 60 V100 GPUs</li>
</ul>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bba020568b33b1280c0698614e3daae0">3 - Science Benchmark Policy Draft (Training)</h1>
    <div class="lead">THe Policy draft document</div>
	<div class="paragraph">


<div class="pageinfo pageinfo-primary">
<div class="paragraph">
<p>The document is under development.</p>
</div>

</div>

</div>
<div class="paragraph">


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Draft</h4>

    
Under development.

The raw document is located at this [link](
https://github.com/laszewsk/mlcommons/blob/main/www/content/en/docs/policy.adoc)


</div>

</div>
<div class="paragraph">


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Bug</h4>

    
Bug: The table of content does not render when we use hugo


</div>

</div>
<h1 id="_mlcommons_science_benchmark_suite_training_rules" class="sect0">MLCommons Science Benchmark Suite Training Rules</h1>
<div class="paragraph">
<p>Version 0.1
January 31, 2021</p>
</div>
<div class="paragraph">
<p>Points of contact: Gregor von Laszewski(<a href="mailto:laszewski@gmail.com">laszewski@gmail.com</a>), Juri Papay (<a href="mailto:juripapay@hotmail.com">juripapay@hotmail.com</a>)</p>
</div>
<div class="paragraph">
<p>Supporting documents
We included here a list of supporting documents that will be removed in the final version, but caould be helping in shaping this draft:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.google.com/presentation/d/1xo_M3dEV1BS7OcXjvjyOUOLkHh8WyHuawqj1OR2iJw4/edit#slide=id.g10e8f04304c_1_73">Presentation</a></p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/1WwcS0gjVoz5Bf0G05xKIgoh2WEBxmNQM8VmkHNP67ag/edit">Benchmarks</a> Is this the correct link?</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All rules are taken from the <a href="https://github.com/mlcommons/training_policies/blob/master/training_rules.adoc">MLPerf Training Rules</a>
except for those that are overridden here.</p>
</div>
<div class="paragraph">
<p>The MLPerf and <a href="https://mlcommons.org">MLCommons</a> name and logo are trademarks. In order to refer to a result using the
MLPerf and MLCommons name, the result must conform to the letter and spirit of the rules
specified in this document. The MLCommons organization reserves the right to solely
determine if a use of its name or logo is acceptable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_benchmarks">2. Benchmarks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The benchmark suite consists of the benchmarks shown in the following table.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
change the table
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality Target</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Earth Quake Prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD (some error minimization)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_divisions">3. Divisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two divisions of the Science Benchmark Suite, the Closed division and the Open division.</p>
</div>
<div class="sect2">
<h3 id="_closed_division">3.1. Closed Division</h3>
<div class="paragraph">
<p>The Closed division requires using the same preprocessing, model, and training method as the reference implementation.</p>
</div>
<div class="paragraph">
<p>The closed division models are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REPLACE: Climate segmentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/azrael417/mlperf-deepcam" class="bare">https://github.com/azrael417/mlperf-deepcam</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REPLACE: Cosmological parameter prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/cosmoflow-benchmark" class="bare">https://github.com/sparticlesteve/cosmoflow-benchmark</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REPLACE: Modeling catalysts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/ocp/tree/mlperf-hpc-reference" class="bare">https://github.com/sparticlesteve/ocp/tree/mlperf-hpc-reference</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_set">4. Data Set</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_data_state_at_start_of_run">4.1. Data State at Start of Run</h3>
<div class="paragraph">
<p>Each reference implementation includes a download script or broadly available method to acquire and verify the dataset.</p>
</div>
<div class="paragraph">
<p>The data at the start of the benchmark run should reside on a parallel file system that is persistent (&gt;= 1 month, not subject to eviction by other users), can be downloaded to / accessed by the user, and can be shared among users at the facility. Any staging to node-local disk or memory or system burst buffer should be included in the benchmark time measurement.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
discuss parallel. some scence benchmarks may not be parallel,
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>You must flush/reset the on-node caches prior to running each instance of the benchmark. Due to practicality issues, you are not required to reset off-node system-level caches.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
discuss what exactly an on node cache is …​ is this an application on node cache or something else.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>We otherwise follow the training rule <a href="training_rules.html#data-state-at-start-of-run">Data State at Start of Run</a> on consistency with the reference implementation preprocessing and allowance for reformatting.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_training_loop">5. Training Loop</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_hyperparameters_and_optimizer">5.1. Hyperparameters and Optimizer</h3>
<div class="paragraph">
<p>CLOSED:</p>
</div>
<div class="paragraph">
<p>Allowed hyperparameter and optimizer settings are specified here. For anything not explicitly mentioned here, submissions must match the behavior and settings of the reference implementations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hyperparameters_and_optimizer_earth_quae_prediction">5.2. Hyperparameters and Optimizer Earth Quae Prediction</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
TBD. Next values will all be replaced with application specific values
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">global_batch_size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the global batch size for training</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">local <code>batch_size</code> (<code>--batch-size</code>) times number of workers. Baseline config is 64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#34;sgd&#34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the optimizer name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--optimizer</code> or <a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L33">config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sgd_opt_momentum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SGD momentum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L34">config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_base_learning_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base learning rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>base_lr</code> times scaling factor, e.g. <code>global_batch_size/base_batch_size</code> if scaling=&#34;linear&#34;. <a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L38">Config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_warmup_epochs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the number of epochs for learning rate to warm up to base value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L47">config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_warmup_factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the constant factor applied at learning rate warm up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaled learning rate / <code>base_lr</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_decay_boundary_epochs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of positive integers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Epochs at which learning rate decays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L51">config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_decay_factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0 &lt; value &lt; 1</code>, and you may use a different value for each decay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the learning rate decay factor(s) at the decay boundary epochs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/sparticlesteve/cosmoflow-benchmark/blob/57c2454a28e415ca7df0135f016297763f6e4946/configs/cosmo.yaml#L51">config</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dropout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0 ⇐ value &lt; 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dropout regularization probability for the dense layers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dropout</code> setting in config</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_weight_decay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L2 regularization parameter for the dense layers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>l2</code> setting in config</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_hyperparameters_and_optimizer_other_app">5.3. Hyperparameters and Optimizer Other App</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
TBD. Next values will all be replaced with application specific values
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">global_batch_size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the global batch size for training</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--local_batch_size</code> times number of workers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">batchnorm_group_size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines how many ranks participate in the batchnorm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--batchnorm_group_size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adam, AdamW, or LAMB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the optimizer name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--optimizer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_eps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">epsilon for Adam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--adam_eps</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_betas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Momentum terms for Adam-type optimizers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--optimizer_betas</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_weight_decay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L2 weight regularization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--weight_decay</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_lr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the base learning rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--start_lr</code> times warmup factor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_lr_warmup_steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the number of epochs for learning rate to warm up to base value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--lr_warmup_steps</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_lr_warmup_factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When warmup is used, the target learning_rate will be lr_warmup_factor * start_lr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--lr_warmup_factor</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multistep or cosine_annealing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the learning rate schedule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--lr_schedule</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_milestones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If multistep, the steps at which learning rate is decayed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">milestones in <code>--lr_schedule type=&#34;multistep&#34;,milestones=&#34;3000 10000&#34;,decay_rate=&#34;0.1&#34;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_decay_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unconstrained</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If multistep, the learning rate decay factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decay_rate in <code>--lr_schedule type=&#34;multistep&#34;,milestones=&#34;15000 25000&#34;,decay_rate=&#34;0.1&#34;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_t_max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For cosine_annealing, period length in steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--lr_schedule</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduler_eta_min</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For cosine_annealing, sets the minimal LR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--lr_schedule</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gradient_accumulation_frequency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the number of gradient accumulation steps before a weight update is performed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--gradient_accumulation_frequency</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_hyperparameters_and_optimizer_other_app_2">5.4. Hyperparameters and Optimizer Other App</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
TBD. Next values will all be replaced with application specific values
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">global_batch_size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the global batch size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>batch_size</code> times number of GPUs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AdamW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the optimizer name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">config setting <code>optim</code> <code>name</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_base_learning_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt; 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the base learning rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">config setting <code>lr_initial</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_warmup_steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value &gt;= 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the number of steps for learning rate to warm up to base value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>warmup_steps</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_warmup_factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0 ⇐ value ⇐ 1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the factor applied to the learning rate at the start of warmup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>warmup_factor</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opt_learning_rate_decay_boundary_steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of positive integers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lr_milestones</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>OPEN: Hyperparameters and optimizer may be freely changed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_results">6. Run Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MLCommon Science Benchmark Suite submissions consist of the following two metrics: metrics 1 is considered mandatory for a complete submission whereas metric 2 is considered optional:</p>
</div>
<div class="sect2">
<h3 id="_strong_scaling_time_to_convergence">6.1. Strong Scaling (Time to Convergence)</h3>
<div class="paragraph">
<p>This is a <strong>mandatory</strong> metric: see MLPerf Training <a href="training_rules.html#section-run-results">Run Results</a> for reference. The same rules apply here.</p>
</div>
</div>
<div class="sect2">
<h3 id="_weak_scaling_throughput">6.2. Weak Scaling (Throughput)</h3>
<div class="paragraph">
<p>TODO</p>
</div>
<div class="paragraph">
<p>This is an <strong>optional</strong> metric. It was designed to test the training capacity of a system.</p>
</div>
<div class="paragraph">
<p>Measurement: we will define 3 important parameters first.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>number of models M: number of model instances which are going to be trained in this benchmark.</p>
</li>
<li>
<p>instance scale S: each individual model instance will be trained at this scale.</p>
</li>
<li>
<p>total utilized scale T: the total scale used for running this benchmark. For example, if all M models are trained concurrently, then T=M*S. More generally we can write that S⇐T⇐M*S if (some of) the models are trained sequentially.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All three numbers M,S,T are chosen by the submitter. This allows the submitter to accomodate their submission to available machine resources, i.e. compute capacity and compute time.</p>
</li>
<li>
<p>S and T should be in units of compute resources, e.g. nodes, GPUs or other accelerators. This choice should be aligned with the HPC system description. For example, if the systems descriptions table lists number GPUs to define the scale of the system, then S should be specified in numbers of GPUs.</p>
</li>
<li>
<p>S and T can be chosen independently of the submission for metric 1 (strong scaling). We encourage to choose T as large as possible, ideally full system scale, but this is not required.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The submitter then trains M models on the resource partitioning (S,T) as defined above to convergence.</p>
</div>
<div class="paragraph">
<p>We define a Time-To-Train-all (TTTa) number by computing the difference between the end time of the instance which needs longest time to converge and the start time of the instance which starts up fastest. Mathematically this can be expressed as</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TTTa = max(run_stop) - min(run_start) where the max/min are taken over all instances M.</pre>
</div>
</div>
<div class="paragraph">
<p>Note: the submitter is allowed to prune this number by removing results from individual training instances. As long as the minimum number of models rule is satisfied (see section <a href="#_benchmark_results">Benchmark Results</a> below), the submission is valid. They then use a modified number of models M&#39;⇐M and computes TTTa over the reduced set. This allows the submitter to remove occasional outliers or stragglers which would otherwise reduce the score disproportionally.</p>
</div>
<div class="paragraph">
<p>Reporting: the submitter reports the the tuple (T, S, M&#39;, TTTa).
It is required to submit a separate MLLOG file for each of the training instances, so that reviewers can verify the quoted numbers.
It is not allowed to merge logging files for individual instances.</p>
</div>
<div class="paragraph">
<p>Restrictions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The submitter <strong>must not report this score on its own</strong>. It has to be reported in conjunction with at least one score from <a href="#_strong_scaling_time_to_convergence">Strong Scaling (Time to Convergence)</a> from the same benchmark.</p>
</li>
<li>
<p>this score <strong>does not allow for extrapolation</strong>. All reported M&#39; training instances must have converged and it is not allowed to extrapolate results in S or T.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_benchmark_results">7. Benchmark Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We follow MLPerf Training <a href="training_rules.html#benchmark-results">Benchmark Results</a> rule along with the following required number of runs per benchmark.
Note that since run-to-run variability is already captured by spatial multiplexing in case of metric 3, we use the adjusted requirement that the number of trained instances has to be at least equal to the number of runs for metric 1 and 2.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
TBD. Next values will all be replaced with application specific values
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benchmark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of Runs (Metric 1, 2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M&#39; (Metric 3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeepCAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;=5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CosmoFlow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;=10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenCatalyst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;=5</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8db116e0eb10a5a7cb13b1fa5275d09d">4 - Respondents</h1>
    <div class="lead">Submitting the benchmark</div>
	

<div class="pageinfo pageinfo-primary">
<p>Submitting the benchmark</p>

</div>

<p>At the present time, we expect respondents to submit the results of
their run, and should provide justification in the form of documentation
(e.g., a technical manuscript or source code with run instructions). We
are exploring setting this up as a &ldquo;pull request&rdquo; based contribution
mechanism.</p>
<p><img src="https://mlcommons.org/images/other/research-science.png" alt="Benchmark Views and Criteria"></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-68ec2370d0409cc27325be36693f9368">5 - Tutorials</h1>
    <div class="lead">Show your user how to work through some end to end examples.</div>
	

<div class="pageinfo pageinfo-primary">
<p>This is a placeholder page that shows you how to use this template site.</p>

</div>

<p>Tutorials are <strong>complete worked examples</strong> made up of <strong>multiple tasks</strong> that guide the user through a relatively simple but realistic scenario: building an application that uses some of your project’s features, for example. If you have already created some Examples for your project you can base Tutorials on them. This section is <strong>optional</strong>. However, remember that although you may not need this section at first, having tutorials can be useful to help your users engage with your example code, especially if there are aspects that need more explanation than you can easily provide in code comments.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-aa80a40bdc6508d5c896268d8aa91cba">5.1 - Running GPU Batch jobs on Rivanna</h1>
    <div class="lead">A short introduction on how to run GPU Jobs on Rivanna</div>
	

<div class="pageinfo pageinfo-primary">
<p>We explain how to run GPU batch jobs ussing different GPU cards on
Rivanna. Rivanna is a supercomputer at University of Virginia. This
tutorial is only usefil if you can get an account on it. The
offcial documentation is availabele at</p>
<ul>
<li><a href="https://www.rc.virginia.edu/userinfo/rivanna/overview/">https://www.rc.virginia.edu/userinfo/rivanna/overview/</a></li>
</ul>
<p>However, it includes some issues and does not explain ceryain aspects
that are important for using GPUs on it. Therfore, this guide has been
created.</p>
<p><strong>PLEASE HELP US IMPROVING THIS GUDE</strong></p>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Requirements</h4>

    <p>We require that you have</p>
<ul>
<li>A valid account on Rivanna</li>
<li>A valid accounting group allowing you to run GPU jobs on rivanna</li>
</ul>


</div>

<h2 id="introduction">Introduction</h2>
<p>Rivanna is the High Performance Computing (HPC) cluster that is
managed by University of Virginia&rsquo;s Research Computing.  Rivanna is
composed 575 nodes with a total of 20,476 cores and 8PB of different
types of storage.  Table ? shows an overview of the compute
nodes. Some of the compute nodes also include GPUs. This includes:</p>
<ul>
<li><a href="https://www.nvidia.com/en-us/data-center/a100/">A100</a>,
<a href="https://www.nvidia.com/en-gb/data-center/tesla-k80/">K80</a>,
<a href="https://www.nvidia.com/en-us/data-center/tesla-p100/">P100</a>,
<a href="https://www.nvidia.com/en-us/data-center/v100/">V100</a>,
<a href="https://www.nvidia.com/en-us/geforce/20-series/">RTX2080</a>,
and
<a href="https://www.nvidia.com/en-us/geforce/graphics-cards/30-series/rtx-3090/">RTX3090</a></li>
</ul>
<table>
<thead>
<tr>
<th>Cores/Node</th>
<th>Memory/Node</th>
<th>Specialty Hardware</th>
<th>GPU memory/Device</th>
<th>GPU devices/Node</th>
<th># of Nodes</th>
</tr>
</thead>
<tbody>
<tr>
<td>40</td>
<td>354GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td>127GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>115</td>
</tr>
<tr>
<td>28</td>
<td>255GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>25</td>
</tr>
<tr>
<td>40</td>
<td>768GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>34</td>
</tr>
<tr>
<td>40</td>
<td>384GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>348</td>
</tr>
<tr>
<td>24</td>
<td>550GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>4</td>
</tr>
<tr>
<td>16</td>
<td>1000GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>5</td>
</tr>
<tr>
<td>48</td>
<td>1500GB</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>6</td>
</tr>
<tr>
<td>64</td>
<td>180GB</td>
<td>KNL</td>
<td>-</td>
<td>-</td>
<td>8</td>
</tr>
<tr>
<td>128</td>
<td>1000GB</td>
<td>GPU: A100</td>
<td>40GB</td>
<td>8</td>
<td>2</td>
</tr>
<tr>
<td>28</td>
<td>255GB</td>
<td>GPU: K80</td>
<td>11GB</td>
<td>8</td>
<td>9</td>
</tr>
<tr>
<td>28</td>
<td>255GB</td>
<td>GPU: P100</td>
<td>12GB</td>
<td>4</td>
<td>3</td>
</tr>
<tr>
<td>40</td>
<td>383GB</td>
<td>GPU: RTX 2080 Ti</td>
<td>11GB</td>
<td>10</td>
<td>2</td>
</tr>
<tr>
<td>28</td>
<td>188GB</td>
<td>GPU: V100</td>
<td>16GB</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>40</td>
<td>384GB</td>
<td>GPU: V100</td>
<td>32GB</td>
<td>4</td>
<td>12</td>
</tr>
</tbody>
</table>
<p>*) This information may be outdated</p>
<h2 id="access-to-rivanna">Access to Rivanna</h2>
<p>Access to Rivanna is secured by <a href="https://virginia.service-now.com/its/?id=itsweb_kb_article&amp;sys_id=f24e5cdfdb3acb804f32fb671d9619d0">University of Virginias
VPN</a>. UVA
offers two different VPNs. We recommend that you install the <strong>UVA
Anywhere VPN</strong>. This can be installed on Linux, MacOS and Windows.</p>
<p>After instalation you have to start the VPN. After that, you can use a
terminal to access rivanna via ssh.  If you have not used ssh, we
encourage you to read up about it and explore commands such as <code>ssh</code>,
<code>ssh-keygen</code>, <code>ssh-copy-id</code>, <code>ssh-agent</code> and <code>ssh-add</code>.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note: gitbash on Windows</h4>

    Please note that on Windows you are expected to install gitbash so you
can use the same commands and ssh logic as on Linux and Mac. For this
reason we do not recommend <code>putty</code>, <code>PowerShell</code> or <code>cmd.exe</code>. The
reason for this is that we can do scripting the same way, even from
those running Windows. This significantly simplifies this guide.

</div>

<p>We will at this time not provide an extensive tutorial on how to use
ssh, but you can contribute it. Instead we will summarize the most important steps:</p>
<ol>
<li>
<p>Create an ssh key if you have not done that before</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ssh-keygen
</code></pre></div><p>It is <strong>VERY</strong> important that you create the key with a strong passphrase.</p>
</li>
<li>
<p>Add an appreviation for rivanna to your <code>~/.ssh/config</code> file</p>
<p>Use your favourite editor. Mine is <code>emacs</code></p>
<p>emacs ~/.ssh/config</p>
<p>copy and pasthe the following into that file, where <code>abc1de</code> is to be substituted by your
UVA compute id.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">Host rivanna
  User abc1de
  HostName rivanna.hpc.virginia.edu 
  IdentityFile ~/.ssh/id_rsa.pub
</code></pre></div><p>This will allow you to use <code>rivanna</code> instead of <code>abc1de@rivanna.hpc.virginia.edu</code>.
The next steps assume you have done this and can just use <code>rivanna</code></p>
</li>
<li>
<p>Copy your public key to rivanna</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ssh-copi-id rivanna
</code></pre></div><p>This will copy your public key into the <code>rivanna:~/.ssh/authorized_keys</code> file.</p>
</li>
<li>
<p>After this step you can use your keys to authenticate. You still
need to be using the VPN though.</p>
<p>The most convenient system for this are Mac and Ubuntu. as it
already has a tool installed called ssh agent and keychain. In
Windows under gitbash you need to start it with</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ <span style="color:#204a87">eval</span> <span style="color:#4e9a06">`</span>ssh-agent<span style="color:#4e9a06">`</span>
</code></pre></div><p>First you add the key to your session so you do not have to
constantly type in the password. Use the command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ssh-add
</code></pre></div><p>to test if it works just say</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ssh rivanna hostanme
</code></pre></div><p>which will print the hostname of rivanna</p>
<p>In case your machine does not run ssh-agent, you can start it before you type in the ssh-add command with</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ssh rivanna hostanme
</code></pre></div><p>If everything is set up correctly it will return  the string</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">udc-ba35-36
</code></pre></div></li>
<li>
<p>To login to Rivanna, simply say</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh rivanna
</code></pre></div><p>If this does not work you have made a mistake. Please, review the previous steps carefully.</p>
</li>
</ol>
<h2 id="running-jobs-on-rivanna">Running Jobs on Rivanna</h2>
<p>Jobs on Rivanna can be schedued through Slurm either as batch job or
as interactive job.  In order to achieve this one needs to load the
software first and create special scripts that are used to submit them
to nodes that contain the GPUs you specify.</p>
<p>The user docmentation about this is provided here:</p>
<ul>
<li><a href="https://www.rc.virginia.edu/userinfo/rivanna/overview/#gpu-partition">https://www.rc.virginia.edu/userinfo/rivanna/overview/#gpu-partition</a></li>
</ul>
<p>However at the time when we looked at it it had some mistakes and
limitations that we hope to overcome here.</p>
<h3 id="modules">Modules</h3>
<p>Rivanna&rsquo;s default mechanism of software configuration management is
done via
<a href="https://lmod.readthedocs.io/en/latest/index.html">modules</a>. The UVA
modules documentation is provided through this
<a href="https://www.rc.virginia.edu/userinfo/rivanna/software/modules/">link</a>.</p>
<p>Modules provide the ability to load a particlar software stack and
configuration into your shell but also into your batch jobs. You can
load multiple modules in your environment as to load them all.</p>
<p>To list the available modules log into rivann and use the command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ module available
</code></pre></div><p>To list aproximately the python modules use</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ module available py
</code></pre></div><p>It will return all modules that have py in it. Blease chose those that
look like python modules.</p>
<p>To probe for deep learnig modules, use  something similar to</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ module available cuda tensorflow pytorch mxnet nvidia cudnn
</code></pre></div><h3 id="python">Python</h3>
<p>Different versions of python are available.</p>
<p>To load python 3.8 we can say</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ module load anaconda/2020.11-py3.8
</code></pre></div><p>To load Python 3.10.0 we can say</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ module load anaconda
$ conda create -n py3.10 python=3.10
$ source activate py3.10
$ python -V
Python 3.10.0
</code></pre></div><p>Please note that at this time anaconda did not support 3.10.2, which I
run personally on my computer, but from python.org.</p>
<h3 id="draft-not-working-python-modules">Draft: not working Python Modules</h3>
<p>TODO: THis does not re</p>
<p>Rivanna has two channels of python software and their named modules</p>
<ul>
<li>Anaconda
<ul>
<li>anaconda/2019.10-py2.7</li>
<li>anaconda/2020.11-py3.8</li>
</ul>
</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note: gitbash on Windows</h4>

    <p>Robert you refer to these, but i could not see the modules. How di you
find them. I load python differently via conda</p>
<ul>
<li>CPython (<code>python</code>)
<ul>
<li>2.7.16</li>
<li>3.6.6</li>
<li>3.6.8</li>
<li>3.7.7</li>
<li>3.8.8</li>
</ul>
</li>
<li>Pytorch (<code>pytorch</code>)
<ul>
<li>1.8.1</li>
<li>1.10.0</li>
</ul>
</li>
<li>Tensorflow (<code>tensorflow</code>)
<ul>
<li>1.12.0-py36</li>
<li>2.1.0-py37</li>
<li>2.4.1</li>
<li>2.7.0</li>
</ul>
</li>
</ul>


</div>

<h3 id="containers">Containers</h3>
<p>Rivanna uses singularity as container technology. The documentation
specific to singularity for Rivanna is avalable at this
<a href="https://www.rc.virginia.edu/userinfo/rivanna/software/containers/">link</a></p>
<p>Singularity needs to be also loaded as a module befor it can be used.</p>
<p>Singularity containers have the ability to access <a href="https://www.rc.virginia.edu/userinfo/rivanna/software/containers/#running-gpu-images">GPUs</a> via a passthrough
using NVidia drivers. Once you load singularity you can use it as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">singularity &lt;cmd&gt; --nv &lt;imagefile&gt; &lt;args&gt;
</code></pre></div><p>The container will be used inside a job.</p>
<h3 id="jobs">Jobs</h3>
<p>More detail specific to jobs for rivanna is provided
<a href="https://www.rc.virginia.edu/userinfo/rivanna/slurm/#gpu-intensive-computation">here</a>.</p>
<p>Before we start an example we explain how we create a job first in a
job description file and then submit it to rivanna. We use a simple
MNIST example to showcase the aspects of successfully running a job on
the machine. We will therefore focussing on creating jobs using GPUs.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">New 8  A100 GPUs to be added</h4>

    <p>Rivanna will have 8 nodes available to us, but they are not yet in service.</p>
<p>Instead we will be using the two existing nodes which are shared with other users.</p>


</div>

<p>Rivanna uses the SLURM job scheduler for allocating submitted jobs.
Jobs are charged SUs from an allocation.  The Rivanna compute
allocation. Please contact your supervisor for the name of the allocation. Gregors allocation is named</p>
<ul>
<li><code>bii_dsc</code></li>
</ul>
<p>and it currently contains 100,000 SUs.  Students from the UVA capstone
class will have the following allocation:</p>
<ul>
<li><code>TBD</code></li>
</ul>
<p>To see the avalable SUs for your project, please use the command</p>
<ul>
<li><code>TBD</code></li>
</ul>
<p>SUs can be requested via the <a href="https://www.rc.virginia.edu/userinfo/rivanna/allocations/">Standard Allocation Renewal
form</a>. Due
to the limitation we encourage you to plan things ahead and try to
avoid unnecessary runs. General instructions for submitting SLURM jobs
is located at</p>
<ul>
<li><a href="https://www.rc.virginia.edu/userinfo/rivanna/slurm/">https://www.rc.virginia.edu/userinfo/rivanna/slurm/</a></li>
</ul>
<p>To request the job be submitted to the gpu partition, you use the option</p>
<p>`-p gpu'</p>
<p>The A100 GPUs are a requestable resource. To request them, you would
add the gres option with the number of A100 GPUs requested (1 through
8 GPUs), for example to request 2 A100 GPUs,</p>
<p><code>--gres=gpu:a100:2</code>.</p>
<p>If you are using a SLURM script to submit the job the options
would appear as follows.  Your script will need to specify other
options such as the allocation to charge as seen in the sample scripts
shown in the above URL:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">#SBATCH -p gpu
#SBATCH --gres=gpu:a100:2
#SBATCH -A bii_dsc
</code></pre></div><h3 id="interactive-jobs">Interactive Jobs</h3>
<p>Please avoid running interactive jobs as they may waste
SUs and we are charged by you keeing the A100 idle.</p>
<p>Although Research Computing also offers some interactive apps such as
JupyterLab, RStudio, CodeServer, Blender, Mathematica via our Open
OnDemand portal at:</p>
<ul>
<li><a href="https://rivanna-portal.hpc.virginia.edu">https://rivanna-portal.hpc.virginia.edu</a></li>
</ul>
<p>we ask you to avoid using them for benchmarks.</p>
<p>To request the use of the A100s via Open OnDemand, first log in to the
Open OnDemand portal, select the desired interactive app.  You will be
presented with a form to complete.  Currently, you would</p>
<ul>
<li>select <code>gpu</code> for Rivanna partition,</li>
<li>select <code>NVIDIA A100</code> from the <code>Optional: GPU type for GPU partition</code>
pulldown menu and enter the number of desired GPUs from the
<code>Optional: Number of GPUs</code>.  Once you’ve completed the form, click
the <code>Launch</code> button and your session will be launched.  The session
will start once the resources are available.</li>
</ul>
<h3 id="using-the-mnist-example">Using the MNIST example</h3>
<p>The MNIST example will at one point ove here as desirable by the
MLCommons Working group as we want to execute them on other systems.</p>
<p>For now the code is located at:</p>
<ul>
<li><a href="https://github.com/Data-ScienceHub/mlcommons-science/tree/main/code/mnist-tensorflow">https://github.com/Data-ScienceHub/mlcommons-science/tree/main/code/mnist-tensorflow</a></li>
</ul>
<p>A sample slurm job specification is included at</p>
<ul>
<li><a href="https://github.com/Data-ScienceHub/mlcommons-science/blob/main/code/mnist-tensorflow/mnist-rivanna-a100.slurm">https://github.com/Data-ScienceHub/mlcommons-science/blob/main/code/mnist-tensorflow/mnist-rivanna-a100.slurm</a></li>
</ul>
<p>To run it use the command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sbatch mnist-rivanna-a100.slurm
</code></pre></div><p>NOTE: We wantto improve the script to make sure its running on a GPU and add GPU placement commands into the code.</p>
<h3 id="custom-version-of-tensorflow">Custom Version of TensorFlow</h3>
<p><a href="https://www.rc.virginia.edu/userinfo/rivanna/software/tensorflow/">https://www.rc.virginia.edu/userinfo/rivanna/software/tensorflow/</a></p>
<h3 id="keras-on-rifanna">Keras on Rifanna</h3>
<ul>
<li><a href="https://www.rc.virginia.edu/userinfo/rivanna/software/keras/">https://www.rc.virginia.edu/userinfo/rivanna/software/keras/</a></li>
</ul>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="science@googlegroups.com" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/laszewsk/mlcommons" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Gregor von Laszewski" aria-label="Gregor von Laszewski">
    <a class="text-white" target="_blank" rel="noopener" href="laszewski@gmail.com" aria-label="Gregor von Laszewski">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 MLCommons Science Working Group All Rights Reserved</small>
        
	
		<p class="mt-2"><a href="/mlcommons/about/">About Goldydocs</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/mlcommons/js/tabpane-persist.js'></script>


















<script src="/mlcommons/js/main.min.97fd6c7b90c86a5e7e1f141f615174b0afa81962868268ffd51840f25182a48e.js" integrity="sha256-l/1se5DIal5&#43;HxQfYVF0sK&#43;oGWKGgmj/1RhA8lGCpI4=" crossorigin="anonymous"></script>




  </body>
</html>
